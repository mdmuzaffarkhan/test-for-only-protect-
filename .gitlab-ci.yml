stages:
 - build
 - restart
 - status

build:
 only:
  variables:
   - $CI_COMMIT_MESSAGE =~ /trigger ci/
 stage: build
 tags:
  - test
 script:
  - echo "pulled the code"
  - git status
restart:
 only:
  variables:
   - $CI_COMMIT_MESSAGE =~ /trigger ci/
 stage: restart
 tags:
  - test
 script:
  - echo "restart the code"
  - systemctl status sdcdemo.service
status:
 only:
  variables:
   - $CI_COMMIT_MESSAGE =~ /trigger ci/
 stage: status
 tags:
  - test
 script:
  - echo "check service status"
  - systemctl status sdcdemo.service